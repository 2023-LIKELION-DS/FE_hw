<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>과제2</title>
    <style>
      .OT {
        background-color: cadetblue;
      }

      .countD {
        background-color: cadetblue;
      }
    </style>
  </head>
  <body>
    <div class="openTime">
      <span class="OT">운영시간</span>
      <p>AM 01:00 ~ AM 02:00</p>

      <span class="countD">카운트다운</span>
      <p class="time-title">금일 마감까지 남은 시간</p>
      <div class="time">
        <span class="hours"></span>
        <span>:</span>
        <span class="minutes"></span>
        <span>:</span>
        <span class="seconds"></span>
      </div>
    </div>

    <script>
      function remaindTime() {
        var now = new Date();
        var end = new Date(
          now.getFullYear(),
          now.getMonth(),
          now.getDate(),
          02,
          00,
          00
        );
        var open = new Date(
          now.getFullYear(),
          now.getMonth(),
          now.getDate(),
          01,
          00,
          00
        );

        var nt = now.getTime();
        var ot = open.getTime();
        var et = end.getTime();

        var timeElement = document.querySelector(".time");
        var titleElement = document.querySelector("p.time-title");
        var hoursElement = document.querySelector(".hours");
        var minutesElement = document.querySelector(".minutes");
        var secondsElement = document.querySelector(".seconds");

        if (nt < ot) {
          timeElement.style.display = "block";
          titleElement.textContent = "금일 오픈까지 남은 시간";

          var sec = parseInt((ot - nt) / 1000);
          var day = parseInt(sec / 60 / 60 / 24);
          sec = sec - day * 60 * 60 * 24;
          var hour = parseInt(sec / 60 / 60);
          sec = sec - hour * 60 * 60;
          var min = parseInt(sec / 60);
          sec = parseInt(sec - min * 60);

          if (hour < 10) {
            hour = "0" + hour;
          }
          if (min < 10) {
            min = "0" + min;
          }
          if (sec < 10) {
            sec = "0" + sec;
          }

          hoursElement.textContent = hour;
          minutesElement.textContent = min;
          secondsElement.textContent = sec;
        } else if (nt > et) {
          titleElement.textContent = "금일 마감";
          timeElement.style.display = "none";
        } else {
          timeElement.style.display = "block";
          titleElement.textContent = "금일 마감까지 남은 시간";

          sec = parseInt((et - nt) / 1000);
          day = parseInt(sec / 60 / 60 / 24);
          sec = sec - day * 60 * 60 * 24;
          hour = parseInt(sec / 60 / 60);
          sec = sec - hour * 60 * 60;
          min = parseInt(sec / 60);
          sec = parseInt(sec - min * 60);

          if (hour < 10) {
            hour = "0" + hour;
          }
          if (min < 10) {
            min = "0" + min;
          }
          if (sec < 10) {
            sec = "0" + sec;
          }

          hoursElement.textContent = hour;
          minutesElement.textContent = min;
          secondsElement.textContent = sec;
        }
      }

      setInterval(remaindTime, 1000);
    </script>
  </body>
</html>
